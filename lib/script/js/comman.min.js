function refreshCaptcha(e,r){jQuery("#"+e).attr("src",r)}jQuery(document).ready(function(){jQuery.pdocrud_actions={init:function(){if(jQuery("body").tooltip({selector:'[data-toggle="tooltip"]'}),jQuery(document).on("change",".pdocrud-form-control",function(e){var r=jQuery.pdocrud_actions.getInstance(this,"form");jQuery.pdocrud_actions.loadDependent(this,r)}),jQuery(document).on("change",".pdocrud-text, .pdocrud-select",function(e){var r=jQuery.pdocrud_actions.getInstance(this,"form"),t=jQuery(this).data("condition-logic");jQuery.pdocrud_actions.applyLogic(this,r,t)}),jQuery(document).on("click",".pdocrud-adv-search-btn",function(e){var r=jQuery.pdocrud_actions.getInstance(this,"form"),t=jQuery(this).data();t.form_data=jQuery(this).closest("form.pdocrud-adv-search-form").serialize(),jQuery.pdocrud_actions.getRenderData(this,r,t)}),jQuery(".pdocrud-slider").length>0){var e=jQuery("#pdocrud-custom-handle");jQuery(".pdocrud-slider").slider({range:jQuery(".pdocrud-slider").data("range"),min:jQuery(".pdocrud-slider").data("min"),max:jQuery(".pdocrud-slider").data("max"),create:function(){e.text(jQuery(this).slider("value"))},slide:function(r,t){e.text(t.value),jQuery(".pdocrud-slider").data("range")?jQuery(".pdocrud-slider").next().val(t.values[0]+"-"+t.values[1]):jQuery(".pdocrud-slider").next().val(t.value)}})}jQuery.pdocrud_actions.getAutoSuggestionData(this),jQuery.pdocrud_actions.setBulkCrudData(this),jQuery(document).on("change",".pdocrud-filter",function(e){var r=jQuery(this).closest(".pdocrud-filters-container").data("objkey"),t=jQuery(this).data(),o=t.key,d=jQuery(this).val(),a=jQuery(this).closest(".pdocrud-filters-options").find(".pdocrud-filter-selected");a.find("span[data-key='"+o+"']").length>0?d?a.find("span[data-key='"+o+"']").data("value",d).text(d+" X"):jQuery(".pdocrud-filters-options").find("span[data-key='"+o+"']").remove():a.append("<span data-key='"+o+"' data-value='"+d+'\' class="pdocrud-filter-option">'+d+" X</span>"),t.action="filter",jQuery.pdocrud_actions.actions(this,t,r,"")}),jQuery(document).on("click",".pdocrud-filter-option",function(e){var r=jQuery(this).closest(".pdocrud-filters-container").data("objkey"),t=jQuery(".pdocrud-filters-options");jQuery(this).remove();var o=jQuery(this).data();o.action="filter",jQuery.pdocrud_actions.actions(t,o,r,"")}),jQuery(document).on("click",".pdocrud-filter-option-remove",function(e){jQuery(this).siblings(".pdocrud-filter-option").each(function(){jQuery(this).remove()});var r=jQuery(this).data(),t=jQuery(this).closest(".pdocrud-filters-container").data("objkey");r.action="filter",jQuery.pdocrud_actions.actions(this,r,t,"")}),jQuery(document).on("focus",".pdocrud-date",function(e){jQuery(this).datepicker({dateFormat:pdocrud_js.date.date_format,changeMonth:pdocrud_js.date.change_month,changeYear:pdocrud_js.date.change_year,numberOfMonths:pdocrud_js.date.no_of_month,showButtonPanel:pdocrud_js.date.show_button_panel,maxDate:pdocrud_js.date.max_date,minDate:pdocrud_js.date.min_date})}),jQuery(".pdocrud_tabs").length>0&&jQuery(".pdocrud_tabs").tabs(),jQuery(".pdocrud-form").length>0&&jQuery(".pdocrud-form").stepy({backLabel:"Previous",block:!0,nextLabel:"Next",titleClick:!0,titleTarget:".stepy-tab"}),jQuery(document).on("click",".pdocrud_add_file",function(e){e.preventDefault(),jQuery(this).siblings(".pdocrud-filecontrol-div").find(".pdocrud-file").click()}),jQuery(document).on("click",".pdocrud_remove_file",function(e){e.preventDefault(),jQuery(this).siblings(".pdocrud-file-input-control").val("")}),jQuery(document).on("change",".pdocrud-file",function(e){e.preventDefault();var r=jQuery(this).val();r.match(/fakepath/)&&(r=r.replace(/C:\\fakepath\\/i,"")),jQuery(this).parent().siblings(".pdocrud-file-input-control").val(r)}),jQuery(document).on("keyup","input.pdocruderr, select.pdocruderr, textarea.pdocruderr",function(e){jQuery(this).next("span.pdocrudform-error").remove(),jQuery(this).closest(".form-group").removeClass("has-error")}),jQuery(document).on("focus",".pdocrud-datetime",function(e){jQuery(this).datetimepicker({dateFormat:pdocrud_js.date.date_format,changeMonth:pdocrud_js.date.change_month,changeYear:pdocrud_js.date.change_year,numberOfMonths:pdocrud_js.date.no_of_month,showButtonPanel:pdocrud_js.date.show_button_panel})}),jQuery(document).on("focus",".pdocrud-time",function(e){jQuery(this).timepicker()}),jQuery(document).on("change",".pdocrud-select-all",function(e){jQuery.pdocrud_actions.selectAll(this)}),jQuery(document).on("click",".pdocrud-submit-btn",function(e){var r=jQuery(this).attr("data-action");jQuery(this).siblings(".pdocrud_action_type").val(r)}),jQuery(document).on("click",".pdocrud-cancel-btn",function(e){var r=jQuery(this).data("form-id");jQuery("#"+r).resetForm()}),jQuery(document).on("change",".pdocrud-records-per-page",function(e){var r=jQuery(this).data();r.records=jQuery(this).val();var t=jQuery(this).closest(".pdocrud-table-container").data("objkey");jQuery.pdocrud_actions.actions(this,r,t)}),jQuery(document).on("change",".pdocrud_search_cols",function(e){var r=jQuery(this).find("option:selected").data("type"),t=jQuery(this).closest(".pdocrud-search").children();t.find("#pdocrud_search_box").datepicker("destroy"),t.find("#pdocrud_search_box").removeClass("pdocrud-date"),t.find("#pdocrud_search_box").removeClass("pdocrud-datetime"),t.find("#pdocrud_search_box").removeClass("pdocrud-time"),t.find("#pdocrud_search_box_to").datepicker("destroy"),t.find("#pdocrud_search_box_to").removeClass("pdocrud-date"),t.find("#pdocrud_search_box_to").removeClass("pdocrud-datetime"),t.find("#pdocrud_search_box_to").removeClass("pdocrud-time"),t.find("#pdocrud_search_box_to").addClass("pdocrud-hide"),"date-range"===r?(t.find("#pdocrud_search_box").addClass("pdocrud-date"),t.find("#pdocrud_search_box_to").removeClass("pdocrud-hide"),t.find("#pdocrud_search_box_to").addClass("pdocrud-date")):"datetime-range"===r?(t.find("#pdocrud_search_box").addClass("pdocrud-datetime"),t.find("#pdocrud_search_box_to").removeClass("pdocrud-hide"),t.find("#pdocrud_search_box_to").addClass("pdocrud-datetime")):"time-range"===r&&(t.find("#pdocrud_search_box").addClass("pdocrud-time"),t.find("#pdocrud_search_box_to").addClass("pdocrud-time"),t.find("#pdocrud_search_box_to").removeClass("pdocrud-hide"))}),jQuery(document).on("click",".pdocrud-actions-sorting",function(e){e.preventDefault();var r=jQuery(this).data(),t=jQuery.pdocrud_actions.getInstance(this,".pdocrudbox");jQuery.pdocrud_actions.actions(this,r,t)}),jQuery(document).on("click",".pdocrud-view-print",function(e){e.preventDefault();var r="<table>"+jQuery(this).closest("table.pdocrud-table-view").find("tbody")[0].outerHTML+"</table>",t=window.open("","print window","height=400,width=600");jQuery.pdocrud_actions.print(r,t)}),jQuery(document).on("click",".pdocrud-close",function(e){e.preventDefault(),jQuery(this).closest("table.pdocrud-table-view").remove()}),jQuery(document).on("click",".pdocrud-data-row",function(e){if(pdocrud_js.quick_view){e.preventDefault(),jQuery(this).closest(".pdocrud-table").find(".pdocrud-data-row").removeClass("pdocrud-row-selected"),jQuery(this).addClass("pdocrud-row-selected");var r=jQuery(this).data();r.action="quick_view";var t=jQuery.pdocrud_actions.getInstance(this,".pdocrudbox");jQuery.pdocrud_actions.actions(this,r,t)}}),jQuery(document).on("click","a.pdocrud-actions",function(e){e.preventDefault();var r="",t=jQuery(this).data(),o=jQuery.pdocrud_actions.getInstance(this,".pdocrudbox");if("print"===t.action){o=t.objkey;var d=jQuery("table[data-obj-key='"+t.objkey+"']")[0].outerHTML;r=window.open("","print window","height=400,width=600");jQuery.pdocrud_actions.print(d,r)}if("delete"!==t.action||confirm(pdocrud_js.lang.delete_single_record))if("url"!==t.action){if("add_row"===t.action)return $table=jQuery(this).parents(".addrow").siblings("table").children("tbody"),void $table.append($table.children("tr").prop("outerHTML"));if("delete_row"!==t.action)if("read_more"!==t.action){if("search"===t.action){t.search_col=jQuery(this).closest(".pdocrud-search").children().find(".pdocrud_search_cols").val(),t.search_text=jQuery(this).closest(".pdocrud-search").children().find("#pdocrud_search_box").val();var a=jQuery(this).closest(".pdocrud-search").children().find("#pdocrud_search_box_to").val();a&&(t.search_text2=a)}if("exporttable"===t.action&&(o=t.objkey,t.exportType=jQuery(this).data("export-type"),"print"===t.exportType&&(r=window.open("","print window","height=400,width=600"))),"delete_selected"===t.action){if(!confirm(pdocrud_js.lang.delete_select_records))return;var u=[],c=jQuery(this).attr("data-obj-key");if(jQuery("table[data-obj-key='"+c+"']").children().find(".pdocrud-select-cb:checked").each(function(){u.push(jQuery(this).val())}),u.length<1)return void alert(pdocrud_js.lang.select_one_entry);t.selected_ids=u}if("pagination"===t.action&&(o=jQuery(this).closest(".pdocrud-table-container").data("objkey"),t.exportType=jQuery(this).data("export-type")),"save_crud_table_data"===t.action){o=jQuery(this).closest(".pdocrud-table-container").data("objkey");var i=[];jQuery(".input-bulk-crud-update").each(function(){var e=jQuery(this).data("col"),r=jQuery(this).val(),t=jQuery(this).data("id");i.push({col:e,id:t,val:r})}),t.updateData=JSON.stringify(i)}"add"===t.action&&(o=jQuery(this).closest(".pdocrud-table-container").data("objkey")),jQuery.pdocrud_actions.actions(this,t,o,r),e.stopPropagation()}else{var n=jQuery(this).data("read-more");"true"===jQuery(this).data("hide")?(jQuery(this).html("read more"),jQuery(this).data("hide","false"),jQuery(this).prev("p").html(n.substr(0,4)+"...")):(jQuery(this).html("hide"),jQuery(this).data("hide","true"),jQuery(this).prev("p").html(n))}else jQuery(this).parents("tbody").children().length>1&&jQuery(this).parents("tr").remove()}else window.location.href=jQuery(this).attr("href")}),jQuery(document).on("click",".pdocrud-submit",function(e){var r=jQuery(this).data("action");jQuery(this).siblings(".pdocrud_action_type").val(r)}),jQuery(document).on("click",".pdocrud-back",function(e){var r=jQuery(this).data(),t=jQuery(this).closest(".pdocrud-table-container").data("objkey");jQuery.pdocrud_actions.actions(this,r,t),e.preventDefault(),jQuery("body").hasClass("modal-open")&&jQuery("body").removeClass("modal-open"),jQuery(".modal-backdrop").remove()}),jQuery(document).on("click",".pdocrud-view-delete",function(e){if(confirm(pdocrud_js.lang.delete_single_record)){var r=jQuery(this).data(),t=jQuery(this).closest(".pdocrud-table-container").data("objkey");jQuery.pdocrud_actions.actions(this,r,t),e.preventDefault(),jQuery("body").hasClass("modal-open")&&jQuery("body").removeClass("modal-open"),jQuery(".modal-backdrop").remove()}}),jQuery(document).on("click",".pdocrud-view-edit",function(e){var r=jQuery(this).data(),t=jQuery(this).closest(".pdocrud-table-container").data("objkey");jQuery.pdocrud_actions.actions(this,r,t),e.preventDefault(),jQuery("body").hasClass("modal-open")&&jQuery("body").removeClass("modal-open"),jQuery(".modal-backdrop").remove()}),jQuery(document).on("submit","form",function(e){if("ajax"===pdocrud_js.submission_type){e.preventDefault(),jQuery(this).validator("validate");var r=!0;"script_validator"===pdocrud_js.jsvalidation?r=jQuery.pdocrud_actions.validate(this):"plugin_validator"===pdocrud_js.jsvalidation&&jQuery(this).find(".form-group").each(function(){jQuery(this).attr("class").indexOf("has-error")>=0&&(r=!1)}),jQuery(this).find("input[readonly='true']").each(function(){jQuery(this).is("[required]")&&""===jQuery(this).val()&&(jQuery(this).parent(".form-group").addClass("has-error"),r=!1)}),jQuery(this).find(".g-recaptcha").length&&""===grecaptcha.getResponse()&&(jQuery(this).find(".g-recaptcha").prepend("<div class='has-errors with-errors'><p>"+pdocrud_js.lang.recaptcha_msg+"</p></div>"),r=!1),jQuery(document).trigger("pdocrud_before_form_submission",[this]),r&&jQuery.pdocrud_actions.submitData(this)}}),jQuery.pdocrud_actions.createMap(this),jQuery(document).trigger("pdocrud_on_load",[this])},setBulkCrudData:function(e){jQuery(".input-bulk-crud-update").length>0&&jQuery(".input-bulk-crud-update").each(function(){console.log(jQuery(this).get(0).tagName),"SELECT"===jQuery(this).get(0).tagName&&jQuery(this).val(jQuery(this).data("orignal-val"))})},getAutoSuggestionData:function(e){if(jQuery(".pdocrud_search_input").length>0&&pdocrud_js.auto_suggestion){var r=jQuery(".pdocrud-table-container").data("objkey"),t=jQuery(e).data();t.action="autosuggest",jQuery(".pdocrud_search_input").autocomplete({source:function(e,o){t.search_text=e.term,t.search_col=jQuery(".pdocrud_search_cols").val(),jQuery.ajax({url:pdocrud_js.pdocrudurl+"script/pdocrud.php",dataType:"jsonp",type:"post",data:{pdocrud_data:t,pdocrud_instance:r,term:e.term},success:function(e){o(e)}})},minLength:2,select:function(e,r){}})}},getRenderData:function(e,r,t,o){jQuery.ajax({type:"post",dataType:"html",cache:!1,url:pdocrud_js.pdocrudurl+"script/pdocrud.php",beforeSend:function(){jQuery("#pdocrud-ajax-loader").show()},data:{pdocrud_data:t,pdocrud_instance:r},success:function(r){jQuery("#pdocrud-ajax-loader").hide(),jQuery(e).closest("form").after(r)}})},actions:function(e,r,t,o){jQuery(document).trigger("pdocrud_before_ajax_action",[e,r]),r=jQuery.pdocrud_actions.getFilterData(e,r),jQuery.ajax({type:"post",dataType:"html",cache:!1,url:pdocrud_js.pdocrudurl+"script/pdocrud.php",beforeSend:function(){jQuery("#pdocrud-ajax-loader").show()},data:{pdocrud_data:r,pdocrud_instance:t},success:function(d){if(jQuery("#pdocrud-ajax-loader").hide(),"exporttable"===r.action)"print"===r.exportType?jQuery.pdocrud_actions.print(d,o):window.location.href=d;else{if(jQuery(e).closest(".pdocrud-table-container").data("modal")){-1!==jQuery.inArray(r.action,["view_back","insert_back","back","update_back","delete","sort","asc","desc","search","records_per_page","pagination"])?(jQuery(e).parents("body").hasClass("modal-open")&&jQuery(e).parents("body").removeClass("modal-open"),jQuery("#"+t+"_modal").modal("hide"),jQuery(e).closest(".pdocrud-table-container").html(d)):(jQuery("#"+t+"_modal").find(".modal-body").html(d),jQuery("#"+t+"_modal").modal("show"),jQuery("#"+t+"_modal").on("shown",function(){jQuery("#"+t+"_modal").find(".modal-body").find("input").focus()}))}else if("inline_edit"===r.action)jQuery(e).closest("tr").html(d);else if("filter"===r.action)jQuery(e).closest(".pdocrud-filters-container").find(".pdocrud-table-container").html(d);else if("onepageview"===r.action){var a=jQuery(e).closest(".pdocrud-one-page-container");jQuery(e).closest(".pdocrud-one-page-container").after(d),a.remove(),jQuery(e).closest(".pdocrud-one-page-container").html(d)}else if("onepageedit"===r.action){a=jQuery(e).closest(".pdocrud-one-page-container");jQuery(e).closest(".pdocrud-one-page-container").after(d),a.remove(),jQuery(e).closest(".pdocrud-one-page-container").html(d)}else if("quick_view"===r.action){(a=jQuery(e).closest(".pdocrudbox")).find(".pdocrud-quick-view").remove(),a.append("<div class='pdocrud-quick-view'></div>"),a.find(".pdocrud-quick-view").html(d),jQuery("html, body").animate({scrollTop:$(".pdocrud-quick-view").last().offset().top},"slow")}else if("related_table"===r.action){(a=jQuery(e).closest(".pdocrudbox")).find(".pdocrud-related-table-view").remove(),a.append("<div class='pdocrud-related-table-view'></div>"),a.find(".pdocrud-related-table-view").html(d),jQuery("html, body").animate({scrollTop:$(".pdocrud-related-table-view").offset().top},"slow")}else jQuery(e).closest(".pdocrud-table-container").html(d);jQuery(".pdocrud_tabs").length>0&&jQuery(".pdocrud_tabs").tabs(),jQuery.pdocrud_actions.createMap(e)}jQuery.pdocrud_actions.setBulkCrudData(this),jQuery.pdocrud_actions.getAutoSuggestionData(this),jQuery(document).trigger("pdocrud_after_ajax_action",[e,d]);try{grecaptcha.render("pdo_recaptcha",{sitekey:pdocrud_js.site_key,callback:function(e){}})}catch(e){}},error:function(e,r,t){console.log(r,t)},complete:function(){}})},reload:function(e,r,t,o){jQuery(document).trigger("pdocrud_before_reload_ajax_action",[e,r]),jQuery.ajax({type:"post",dataType:"html",cache:!1,url:pdocrud_js.pdocrudurl+"script/pdocrud.php",data:{pdocrud_data:r,pdocrud_instance:t},success:function(r){o.html(r),jQuery(document).trigger("pdocrud_after_reload_ajax_action",[e,r]);try{grecaptcha.render("pdo_recaptcha",{sitekey:pdocrud_js.site_key,callback:function(e){}})}catch(e){}},error:function(e,r,t){console.log(r,t)},complete:function(){}})},submitData:function(e){var r=jQuery(e).find(".pdocrud_action_type").val(),t={type:"post",dataType:"html",url:pdocrud_js.pdocrudurl+"script/pdocrud.php",beforeSubmit:function(r,t,o){jQuery(document).trigger("pdcrud_before_form_submit",[e,r]),jQuery("#pdocrud-ajax-loader").show()},success:function(t,o,d,a){if(jQuery("#pdocrud-ajax-loader").hide(),jQuery(e).find(".pdocrud_message").addClass("hidden"),jQuery(e).find(".pdocrud_error").addClass("hidden"),"insert"==r||"update"==r||"select"==r||"email"==r||"selectform"==r){var u=JSON.parse(t);if(u.redirectionurl.length>0&&(window.location.href=u.redirectionurl),u.message.length>0&&(jQuery(e).find(".pdocrud_message").removeClass("hidden"),jQuery(e).find(".pdocrud_message").find(".message_content").text(u.message)),u.error.length>0&&(jQuery(e).find(".pdocrud_error").removeClass("hidden"),jQuery(e).find(".pdocrud_error").find(".error_content").text(u.error)),jQuery(e).parents(".pdocrud-one-page-container").length>0){var c=jQuery(e).parents(".pdocrud-one-page-container"),i=c.children().find(".pdocrud-table-container").data("objkey"),n=c.data(),s=c.children().find(".pdocrud-table-container");jQuery.pdocrud_actions.reload(e,n,i,s)}}else"insert_back"==r||"update_back"==r||"view_back"==r||"back"==r?(jQuery(e).parents("body").hasClass("modal-open")&&jQuery(e).parents("body").removeClass("modal-open"),jQuery(".modal-backdrop").remove(),jQuery(e).closest(".pdocrud-table-container").html(t)):"export"===r?window.location.href=t:jQuery(e).closest(".pdocrud-table-container").html(t);jQuery.pdocrud_actions.getAutoSuggestionData(this),jQuery(document).trigger("pdocrud_after_submission",[e,t])},resetForm:pdocrud_js.reset_form};jQuery(e).ajaxSubmit(t)},print:function(e,r){return r.document.write("<html><head><title>Print Data</title>"),r.document.write('<style type="text/css">.pdocrud-select-cb{display:none} .pdocrud-select-all{display:none}</style>'),r.document.write("</head><body >"),r.document.write(e),r.document.write("</body></html>"),r.print(),r.close(),!0},validate:function(e){jQuery(e).find("span.pdocrudform-error").remove(),jQuery(".form-group").removeClass("has-error");var r=!0;return jQuery(e).find(":input").each(function(){jQuery(this).removeClass("has-error"),jQuery(this).removeClass("pdocruderr"),jQuery(this).data("required")&&""==jQuery(this).val().replace(/\s/g,"")&&(r=!1,jQuery(this).closest(".form-group").addClass("has-error"),jQuery(this).after('<span class="pdocrudform-error field-validation-error" for="'+jQuery(this).attr("id")+'">'+pdocrud_js.lang.req_field+"</span>"),jQuery(this).focus()),jQuery(this).hasAttr("data-email")&&!1===(r=jQuery.pdocrud_actions.validate_email(jQuery(this).val()))&&(jQuery(this).closest(".form-group").addClass("has-error"),jQuery(this).after('<span class="pdocrudform-error field-validation-error" for="'+jQuery(this).attr("id")+'">'+pdocrud_js.lang.invalid_email+"</span>"),jQuery(this).focus()),jQuery(this).hasAttr("data-date")&&!1===(r=jQuery.pdocrud_actions.validate_date(jQuery(this).val()))&&(jQuery(this).closest(".form-group").addClass("has-error"),jQuery(this).after('<span class="pdocrudform-error field-validation-error" for="'+jQuery(this).attr("id")+'">'+pdocrud_js.lang.invalid_date+"</span>"),jQuery(this).focus()),jQuery(this).hasAttr("data-min-length")&&!1===(r=jQuery.pdocrud_actions.validate_length(jQuery(this).data("min-length"),jQuery(this).val().length,"min"))&&(jQuery(this).closest(".form-group").addClass("has-error"),jQuery(this).after('<span class="pdocrudform-error field-validation-error" for="'+jQuery(this).attr("id")+'">'+pdocrud_js.lang.min_length+"</span>"),jQuery(this).focus()),jQuery(this).hasAttr("data-max-length")&&!1===(r=jQuery.pdocrud_actions.validate_length(jQuery(this).data("max-length"),jQuery(this).val().length,"max"))&&(jQuery(this).closest(".form-group").addClass("has-error"),jQuery(this).after('<span class="pdocrudform-error field-validation-error" for="'+jQuery(this).attr("id")+'">'+pdocrud_js.lang.min_length+"</span>"),jQuery(this).focus()),jQuery(this).hasAttr("data-exact-length")&&!1===(r=jQuery.pdocrud_actions.validate_length(jQuery(this).data("exact-length"),jQuery(this).val().length,"exact"))&&(jQuery(this).closest(".form-group").addClass("has-error"),jQuery(this).after('<span class="pdocrudform-error field-validation-error" for="'+jQuery(this).attr("id")+'">'+pdocrud_js.lang.min_length+"</span>"),jQuery(this).focus()),jQuery(this).hasAttr("data-match")&&!1===(r=jQuery.pdocrud_actions.validate_equal_to(jQuery(this).val(),jQuery(jQuery(this).data("equal-to")).val()))&&(jQuery(this).closest(".form-group").addClass("has-error"),jQuery(this).after('<span class="pdocrudform-error field-validation-error" for="'+jQuery(this).attr("id")+'">'+pdocrud_js.lang.match+"</span>"),jQuery(this).focus()),!1===r&&(jQuery(this).addClass("pdocruderr"),jQuery(this).addClass("has-error"))}),r},validate_email:function(e){return!1!==/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(e)},validate_date:function(e){var r=/^(\d{2})[-\/](\d{2})[-\/](\d{4})$/.exec(e);if(null==r)return!1;var t=r[2],o=r[1]-1,d=r[3],a=new Date(d,o,t);return a.getDate()==t&&a.getMonth()==o&&a.getFullYear()==d},validate_length:function(e,r,t){return"min"===t?r>=e:"max"===t?r<=e:"match"===t?r==e:void 0},validate_equal_to:function(e,r){return e===r},getFilterData:function(e,r){var t=jQuery(e).closest(".pdocrud-filters-container").find(".pdocrud-filters-options").find(".pdocrud-filter-selected");return t.length>0&&(r.filter_data=new Array,t.find(".pdocrud-filter-option").each(function(){r.filter_data.push(jQuery(this).data())})),r},getInstance:function(e,r){return jQuery(e).closest(r).find(".pdoobj").val()},getDependent:function(e){return jQuery("select[data-dependent='"+jQuery(e).attr("id")+"']")},selectAll:function(e){jQuery(e).is(":checked")?jQuery(e).parents("table").find(".pdocrud-select-cb").prop("checked",!0):jQuery(e).parents("table").find(".pdocrud-select-cb").prop("checked",!1)},createMap:function(e){jQuery(".pdocrud-gmap").each(function(){var e=jQuery(this).attr("id"),r=jQuery(this).prev(),t=r.val().split(","),o=2==t.length?new google.maps.LatLng(parseFloat(t[0]),parseFloat(t[1])):new google.maps.LatLng(51.508742,-.12085),d=r.hasAttr("data-map-zoom")?r.data("map-zoom"):7,a=(r.hasAttr("data-map-type")&&r.data("map-type"),{center:o,zoom:d,mapTypeId:google.maps.MapTypeId.mapType}),u=new google.maps.Map(document.getElementById(e),a),c=new google.maps.Marker({position:new google.maps.LatLng(51.508742,-.12085),draggable:!0,title:"Drag me!"});google.maps.event.addListener(c,"dragend",function(){jQuery(r).val(this.getPosition().lat()+","+this.getPosition().lng())}),c.setMap(u)})},applyLogic:function(e,r,t){var o=jQuery(e).val(),d={">":function(e,r){return e>r},"=":function(e,r){return e==r},"!=":function(e,r){return e!=r},"<":function(e,r){return e<r}};for(key in t){var a=t[key].op;jQuery.isNumeric(o)&&(o=parseInt(o)),jQuery.isNumeric(t[key].condition)&&"0"!=t[key].condition&&(t[key].condition=parseInt(t[key].condition)),d[a](o,t[key].condition)&&("show"===t[key].task?jQuery(":input[name='"+t[key].field.trim()+"']").parent("div.form-group").show():"hide"===t[key].task&&jQuery(":input[name='"+t[key].field.trim()+"']").parent("div.form-group").hide())}},loadDependent:function(e,r){var t=jQuery.pdocrud_actions.getDependent(e);t.length>0&&jQuery.ajax({type:"post",dataType:"html",cache:!1,url:pdocrud_js.pdocrudurl+"script/pdocrud.php",beforeSend:function(){jQuery("#pdocrud-ajax-loader").show()},data:{"pdocrud_data[action]":"loadDependent","pdocrud_data[pdocrud_dependent_name]":t.attr("id"),"pdocrud_data[pdocrud_field_name]":jQuery(e).attr("id"),"pdocrud_data[pdocrud_field_val]":jQuery(e).val(),pdocrud_instance:r},success:function(e){t.html(e),jQuery("#pdocrud-ajax-loader").hide()},error:function(e,r,t){jQuery("#pdocrud-ajax-loader").hide()},complete:function(){}})}},jQuery.pdocrud_actions.init()}),jQuery.fn.hasAttr=function(e){return void 0!==this.attr(e)};