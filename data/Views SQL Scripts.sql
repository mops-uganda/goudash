CREATE VIEW `view_dept_proj_budget`  AS  select `itembudget`.`FY` AS `FY`,`itembudget`.`Sector` AS `Sector`,`itembudget`.`Vote` AS `Vote`,`itembudget`.`Vote_Function` AS `Programme`,`itembudget`.`Program` AS `Program`,`itembudget`.`Project` AS `Project`,`programmes`.`ProgrammeName` AS `ProgrammeName`,`itembudget`.`ProjProgName` AS `ProjProgName`,sum(`itembudget`.`Q1Budget`) AS `Q1Budget`,sum(`itembudget`.`Q2Budget`) AS `Q2Budget`,sum(`itembudget`.`Q3Budget`) AS `Q3Budget`,sum(`itembudget`.`Q4Budget`) AS `Q4Budget`,sum(`itembudget`.`BudgetEstimates`) AS `AnnualBudget` from (`itembudget` left join `programmes` on(((`itembudget`.`Sector` = `programmes`.`SectorCode`) and (`itembudget`.`Vote_Function` = `programmes`.`ProgramCode`) and (`itembudget`.`Vote` = `programmes`.`VoteCode`)))) group by `itembudget`.`Sector`,`itembudget`.`Vote`,`itembudget`.`Vote_Function`,`itembudget`.`Program`,`itembudget`.`Project` order by `itembudget`.`Vote`,`itembudget`.`Vote_Function` ;
CREATE VIEW `view_inspection_by_vote`  AS  select `performance_scores`.`vote` AS `vote`,`votes`.`VoteName` AS `Vote_Name`,count(0) AS `Count`,sum(`performance_scores`.`self_score`) AS `Total_Score` from (`performance_scores` join `votes` on((`performance_scores`.`vote` = `votes`.`VoteCode`))) group by `performance_scores`.`vote` ;
CREATE VIEW `view_keyoutputs`  AS  select `keyoutputs`.`ID` AS `ID`,`keyoutputs`.`SectorCode` AS `SectorCode`,`keyoutputs`.`VoteCode` AS `VoteCode`,`keyoutputs`.`ProgramCode` AS `ProgramCode`,`keyoutputs`.`KeyOutputCode` AS `KeyOutputCode`,`keyoutputs`.`KeyOutputDescription` AS `KeyOutputDescription`,`programmes`.`ProgrammeName` AS `ProgrammeName`,`votes`.`VoteName` AS `VoteName`,`programmes`.`ID` AS `ProgrammeNameID` from ((`keyoutputs` left join `programmes` on(((`keyoutputs`.`VoteCode` = `programmes`.`VoteCode`) and (`keyoutputs`.`ProgramCode` = `programmes`.`ProgramCode`) and (`keyoutputs`.`SectorCode` = `programmes`.`SectorCode`)))) left join `votes` on(((`keyoutputs`.`VoteCode` = `votes`.`VoteCode`) and (`keyoutputs`.`SectorCode` = `votes`.`SectorCode`)))) order by `keyoutputs`.`ID` ;
CREATE VIEW `view_keyoutputs_budget`  AS  select `itembudget`.`FY` AS `FY`,`itembudget`.`Vote` AS `Vote`,`itembudget`.`Vote_Function` AS `Vote_Function`,`itembudget`.`ProjProgName` AS `Department_Project`,`itembudget`.`Output` AS `Code`,`view_keyoutputs`.`KeyOutputDescription` AS `KeyOutput_Description`,format(sum(`itembudget`.`Q1Budget`),0) AS `Q1_Budget`,format(sum(`itembudget`.`Q2Budget`),0) AS `Q2_Budget`,format(sum(`itembudget`.`Q3Budget`),0) AS `Q3_Budget`,format(sum(`itembudget`.`Q4Budget`),0) AS `Q4_Budget`,format(sum(`itembudget`.`BudgetEstimates`),0) AS `Annual_Budget` from (`itembudget` left join `view_keyoutputs` on(((`itembudget`.`Vote` = `view_keyoutputs`.`VoteCode`) and (`itembudget`.`Sector` = `view_keyoutputs`.`SectorCode`) and (`itembudget`.`Vote_Function` = `view_keyoutputs`.`ProgramCode`) and (`itembudget`.`Output` = `view_keyoutputs`.`KeyOutputCode`)))) group by `itembudget`.`Sector`,`itembudget`.`Vote_Function`,`itembudget`.`Program`,`itembudget`.`Output` order by `itembudget`.`ID` ;
CREATE VIEW `view_kpis`  AS  select `kpis`.`SectorCode` AS `SectorCode`,`kpis`.`VoteCode` AS `VoteCode`,`kpis`.`ProgramCode` AS `ProgramCode`,`kpis`.`KeyOutputCode` AS `KeyOutputCode`,`votes`.`VoteName` AS `VoteName`,`programmes`.`ProgrammeName` AS `ProgrammeName`,`programmes`.`ID` AS `ProgrammeNameID`,`keyoutputs`.`KeyOutputDescription` AS `KeyOutputDescription`,`kpis`.`KeyIndicatorName` AS `KeyIndicatorName`,`kpis`.`Indicator_Measure` AS `Indicator_Measure`,`kpis`.`Indicator_Type` AS `Indicator_Type`,`kpis`.`MethodofMeasurement` AS `MethodofMeasurement`,`kpis`.`SourceofData` AS `SourceofData` from (((`kpis` left join `keyoutputs` on(((`kpis`.`SectorCode` = `keyoutputs`.`SectorCode`) and (`kpis`.`VoteCode` = `keyoutputs`.`VoteCode`) and (`kpis`.`ProgramCode` = `keyoutputs`.`ProgramCode`) and (`kpis`.`KeyOutputCode` = `keyoutputs`.`KeyOutputCode`)))) left join `programmes` on(((`kpis`.`SectorCode` = `programmes`.`SectorCode`) and (`kpis`.`VoteCode` = `programmes`.`VoteCode`) and (`kpis`.`ProgramCode` = `programmes`.`ProgramCode`)))) left join `votes` on(((`kpis`.`VoteCode` = `votes`.`VoteCode`) and (`kpis`.`SectorCode` = `votes`.`SectorCode`)))) order by `kpis`.`VoteCode`,`kpis`.`ProgramCode`,`kpis`.`KeyOutputCode` ;
CREATE VIEW `view_programmes`  AS  select `programmes`.`ID` AS `primary_key`,`programmes`.`SectorCode` AS `SectorCode`,`programmes`.`VoteCode` AS `VoteCode`,`programmes`.`ProgramCode` AS `ProgramCode`,`programmes`.`ProgrammeName` AS `ProgrammeName`,`programmes`.`ProgramObjective` AS `ProgramObjective`,`programmes`.`ResponsibleOfficer` AS `ResponsibleOfficer`,`votes`.`VoteName` AS `VoteName` from (`programmes` left join `votes` on(((`programmes`.`VoteCode` = `votes`.`VoteCode`) and (`programmes`.`SectorCode` = `votes`.`SectorCode`)))) ;
CREATE VIEW `view_programme_budget`  AS  select `itembudget`.`FY` AS `FY`,`itembudget`.`Sector` AS `Sector`,`itembudget`.`Vote` AS `Vote`,`itembudget`.`Vote_Function` AS `Programme`,`programmes`.`ProgrammeName` AS `ProgrammeName`,sum(`itembudget`.`Q1Budget`) AS `Q1Budget`,sum(`itembudget`.`Q2Budget`) AS `Q2Budget`,sum(`itembudget`.`Q3Budget`) AS `Q3Budget`,sum(`itembudget`.`Q4Budget`) AS `Q4Budget`,sum(`itembudget`.`BudgetEstimates`) AS `AnnualBudget`,((sum(`itembudget`.`BudgetEstimates`) * 100) / (select sum(`itembudget`.`BudgetEstimates`) from `itembudget`)) AS `Percent` from (`itembudget` left join `programmes` on(((`itembudget`.`Sector` = `programmes`.`SectorCode`) and (`itembudget`.`Vote_Function` = `programmes`.`ProgramCode`) and (`itembudget`.`Vote` = `programmes`.`VoteCode`)))) group by `itembudget`.`Sector`,`itembudget`.`Vote`,`itembudget`.`Vote_Function` order by `itembudget`.`Vote`,`itembudget`.`Vote_Function` ;
CREATE VIEW `view_sector_budgets`  AS  select `itembudget`.`Sector` AS `SectorCode`,`sectors`.`Sector` AS `Sector`,sum(`itembudget`.`Q1Budget`) AS `Q1Budget`,sum(`itembudget`.`Q2Budget`) AS `Q2Budget`,sum(`itembudget`.`Q3Budget`) AS `Q3Budget`,sum(`itembudget`.`Q4Budget`) AS `Q4Budget`,sum(`itembudget`.`BudgetEstimates`) AS `AnnualBudget`,((sum(`itembudget`.`BudgetEstimates`) * 100) / (select sum(`itembudget`.`BudgetEstimates`) from `itembudget`)) AS `Percent` from (`itembudget` left join `sectors` on((`itembudget`.`Sector` = `sectors`.`SectorCode`))) group by `itembudget`.`Sector` ;
CREATE VIEW `view_subprogrammes`  AS  select `votes`.`VoteName` AS `VoteName`,`programmes`.`ID` AS `ProgrammeNameID`,`programmes`.`ProgrammeName` AS `ProgrammeName`,`subprogrammes`.`SectorCode` AS `SectorCode`,`subprogrammes`.`VoteCode` AS `VoteCode`,`subprogrammes`.`ProgramCode` AS `ProgramCode`,`subprogrammes`.`SubProgramCode` AS `SubProgramCode`,`subprogrammes`.`SubProgramName` AS `SubProgramName`,`subprogrammes`.`ResponsibleOfficers` AS `ResponsibleOfficers`,`subprogrammes`.`ProjectObjectives` AS `ProjectObjectives`,`subprogrammes`.`ProjectOutputs` AS `ProjectOutputs` from ((`subprogrammes` left join `programmes` on(((`subprogrammes`.`SectorCode` = `programmes`.`SectorCode`) and (`subprogrammes`.`VoteCode` = `programmes`.`VoteCode`) and (`subprogrammes`.`ProgramCode` = `programmes`.`ProgramCode`)))) left join `votes` on(((`subprogrammes`.`SectorCode` = `votes`.`SectorCode`) and (`subprogrammes`.`VoteCode` = `votes`.`VoteCode`)))) ;
CREATE VIEW `view_vote_budgets`  AS  select `itembudget`.`Vote` AS `VoteCode`,`votes`.`VoteName` AS `VoteName`,sum(`itembudget`.`Q1Budget`) AS `Q1Budget`,sum(`itembudget`.`Q2Budget`) AS `Q2Budget`,sum(`itembudget`.`Q3Budget`) AS `Q3Budget`,sum(`itembudget`.`Q4Budget`) AS `Q4Budget`,sum(`itembudget`.`BudgetEstimates`) AS `AnnualBudget`,((sum(`itembudget`.`BudgetEstimates`) * 100) / (select sum(`itembudget`.`BudgetEstimates`) from `itembudget`)) AS `Percent` from (`itembudget` left join `votes` on(((`itembudget`.`Vote` = `votes`.`VoteCode`) and (`itembudget`.`Sector` = `votes`.`SectorCode`)))) group by `itembudget`.`Vote` ;
CREATE VIEW `votesview`  AS  select `votes`.`SectorCode` AS `SectorCode`,`votes`.`VoteCode` AS `VoteCode`,`votes`.`VoteName` AS `VoteName`,`votes`.`VoteMission` AS `VoteMission`,`votes`.`MDAType` AS `MDAType`,`sectors`.`Sector` AS `Sector`,`sectors`.`ThematicArea` AS `ThematicArea`,`mdatype`.`MDATypeName` AS `MDATypeName` from ((`votes` left join `sectors` on((`votes`.`SectorCode` = `sectors`.`SectorCode`))) left join `mdatype` on((`votes`.`MDAType` = `mdatype`.`MDATypeID`))) ;
CREATE VIEW `view_payroll_by_age_category`  AS  select (case when (`dash`.`goupayroll`.`age` <= 0) then '0 or Less' when (`dash`.`goupayroll`.`age` between 0 and 9.99999) then '0 to 9' when (`dash`.`goupayroll`.`age` between 10 and 19.99999) then '10 to 19' when (`dash`.`goupayroll`.`age` between 20 and 24.99999) then '20 to 24' when (`dash`.`goupayroll`.`age` between 25 and 29.99999) then '25 to 29' when (`dash`.`goupayroll`.`age` between 30 and 34.99999) then '30 to 34' when (`dash`.`goupayroll`.`age` between 35 and 39.99999) then '35 to 39' when (`dash`.`goupayroll`.`age` between 40 and 44.99999) then '40 to 44' when (`dash`.`goupayroll`.`age` between 45 and 49.99999) then '45 to 49' when (`dash`.`goupayroll`.`age` between 50 and 54.99999) then '50 to 54' when (`dash`.`goupayroll`.`age` between 55 and 59.99999) then '55 to 59' when (`dash`.`goupayroll`.`age` >= 60) then '60 +' end) AS `Age_Group`,count(`dash`.`goupayroll`.`age`) AS `Total` from `dash`.`goupayroll` group by (case when (`dash`.`goupayroll`.`age` <= 0) then '0 or Less' when (`dash`.`goupayroll`.`age` between 0 and 9.99999) then '0 to 9' when (`dash`.`goupayroll`.`age` between 10 and 19.99999) then '10 to 19' when (`dash`.`goupayroll`.`age` between 20 and 24.99999) then '20 to 24' when (`dash`.`goupayroll`.`age` between 25 and 29.99999) then '25 to 29' when (`dash`.`goupayroll`.`age` between 30 and 34.99999) then '30 to 34' when (`dash`.`goupayroll`.`age` between 35 and 39.99999) then '35 to 39' when (`dash`.`goupayroll`.`age` between 40 and 44.99999) then '40 to 44' when (`dash`.`goupayroll`.`age` between 45 and 49.99999) then '45 to 49' when (`dash`.`goupayroll`.`age` between 50 and 54.99999) then '50 to 54' when (`dash`.`goupayroll`.`age` between 55 and 59.99999) then '55 to 59' when (`dash`.`goupayroll`.`age` >= 60) then '60 +' end) ;